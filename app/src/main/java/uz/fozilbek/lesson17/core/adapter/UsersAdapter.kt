package uz.fozilbek.lesson17.core.adapterimport android.annotation.SuppressLintimport android.graphics.Colorimport android.util.Logimport android.view.LayoutInflaterimport android.view.Viewimport android.view.ViewGroupimport android.widget.BaseAdapterimport uz.fozilbek.lesson17.core.data.UserModelimport uz.fozilbek.lesson17.databinding.ItemUserBindingclass UsersAdapter : BaseAdapter() {    var onItemMenuClick:((user:UserModel,view:View)->Unit)?=null    var userList = ArrayList<UserModel>()        set(value) {            field = value            notifyDataSetChanged()        }    fun addUser(user: UserModel) {        userList.add(user)        notifyDataSetChanged()    }    override fun getCount(): Int = userList.size    override fun getItem(position: Int): UserModel = userList[position]    override fun getItemId(position: Int): Long = position.toLong()    @SuppressLint("UseCompatLoadingForDrawables", "DiscouragedApi")    override fun getView(position: Int, convertView: View?, parent: ViewGroup): View {        val binding = ItemUserBinding.inflate(LayoutInflater.from(parent.context), parent, false)        Log.d("MyLog","${position}")        val userData = getItem(position)    if (userData.userName!="No name" || userData.userFollowers!=0){        binding.userFollowers.text =            if (userData.userFollowers > 1)                "${userData.userFollowers} followers"            else "${userData.userFollowers} follower"        binding.userName.text = userData.userName        val context=parent.context        val resID = context.resources.getIdentifier("person${userData.imageIndex}", "drawable",  context.packageName)        val drawable = context.resources.getDrawable(resID, null)        binding.moreButton.setOnClickListener {            onItemMenuClick?.invoke(getItem(position),it)        }        binding.userIcon.setImageDrawable(drawable)        binding.userItem.setBackgroundColor(Color.parseColor(userData.backgroundColor))    }        return binding.root    }}